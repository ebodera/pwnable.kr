import re
from pwn import *

conn = remote('pwnable.kr', 9007)

conn.recvuntil('Ready?')

for _ in range(100):
    line = conn.recvline_regex("""N=(\d+) C=(\d+)""")
    n = int(re.search("""N=(\d+) C=(\d+)""", line).group(1))
    c = int(re.search("""N=(\d+) C=(\d+)""", line).group(2))
    left, right = 0, n

    for _ in range(c):
        set = ' '.join(str(left) for left in range(left, int((left+right)/2)))
        conn.sendline(set)
        weight = int(conn.recv(1024).strip())
        if (weight % 10 == 0):
            left = int((left+right)/2)
        else:
            right = int((left+right)/2)
    conn.sendline(str(left))

    print(conn.recv(1024).strip())
print(conn.recv(1024).strip())
